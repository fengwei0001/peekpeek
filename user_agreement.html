<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户协议 - PeekPeek</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #ffffff;
            background-color: #111827;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #ffffff;
        }
        h2 {
            font-size: 18px;
            font-weight: 600;
            margin-top: 24px;
            margin-bottom: 12px;
            color: #ffffff;
        }
        p {
            margin-bottom: 16px;
            color: #ffffff;
        }
        .container {
            padding: 10px;
        }
        .language-selector {
            margin-bottom: 20px;
            text-align: right;
        }
        .language-selector select {
            padding: 5px;
            background-color: #2d3748;
            color: #ffffff;
            border: 1px solid #4a5568;
            border-radius: 4px;
        }
        .lang-content {
            display: none; /* 默认隐藏所有语言内容 */
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="language-selector">
            <select id="languageSelect">
                <option value="zh-CN">中文</option>
                <option value="en">English</option>
                <option value="ja">日本語</option>
                <option value="ko">한국어</option>
            </select>
        </div>

        <!-- 中文版本 -->
        <div id="zh-CN" class="lang-content">
            <h1>用户协议</h1>
            
            <p>欢迎使用 PeekPeek！本协议是您与 PeekPeek 应用之间关于使用本应用服务所订立的协议。</p>
            
            <h2>服务说明</h2>
            <p>PeekPeek 是一款帮助用户管理和快速访问社交媒体账号的工具。我们提供社交媒体链接的添加、管理和访问服务。</p>
            
            <h2>用户责任</h2>
            <p>用户在使用 PeekPeek 时，需遵守相关法律法规，不得利用本应用从事任何违法违规活动。用户需对自己在使用过程中的行为负责。</p>
            
            <h2>免责声明</h2>
            <p>PeekPeek 不对用户访问的第三方社交媒体平台的内容负责。用户在第三方平台上的行为应遵循该平台的用户协议和规定。</p>
            
            <h2>协议修改</h2>
            <p>我们保留随时修改本协议的权利。当协议发生变更时，我们会在应用内通知您。</p>
            
            <h2>联系我们</h2>
            <p>如果您对本协议有任何疑问，请通过应用内的用户反馈功能联系我们。</p>
        </div>

        <!-- 英文版本 -->
        <div id="en" class="lang-content">
            <h1>User Agreement</h1>
            
            <p>Welcome to PeekPeek! This agreement is established between you and the PeekPeek application regarding the use of our services.</p>
            
            <h2>Service Description</h2>
            <p>PeekPeek is a tool that helps users manage and quickly access social media accounts. We provide services for adding, managing, and accessing social media links.</p>
            
            <h2>User Responsibilities</h2>
            <p>When using PeekPeek, users must comply with relevant laws and regulations and must not use this application for any illegal activities. Users are responsible for their behavior during use.</p>
            
            <h2>Disclaimer</h2>
            <p>PeekPeek is not responsible for the content of third-party social media platforms accessed by users. User behavior on third-party platforms should follow the user agreements and regulations of those platforms.</p>
            
            <h2>Agreement Modifications</h2>
            <p>We reserve the right to modify this agreement at any time. When the agreement changes, we will notify you within the application.</p>
            
            <h2>Contact Us</h2>
            <p>If you have any questions about this agreement, please contact us through the user feedback feature in the application.</p>
        </div>

        <!-- 日文版本 -->
        <div id="ja" class="lang-content">
            <h1>利用規約</h1>
            
            <p>PeekPeekへようこそ！この規約は、本アプリケーションのサービス利用に関して、お客様とPeekPeekアプリケーションとの間で締結される契約です。</p>
            
            <h2>サービス説明</h2>
            <p>PeekPeekは、ユーザーがソーシャルメディアアカウントを管理し、迅速にアクセスするのを支援するツールです。ソーシャルメディアリンクの追加、管理、アクセスサービスを提供しています。</p>
            
            <h2>ユーザーの責任</h2>
            <p>PeekPeekを使用する際、ユーザーは関連法規を遵守し、本アプリを使用して違法行為を行わないこととします。ユーザーは使用中の行動に責任を持つ必要があります。</p>
            
            <h2>免責事項</h2>
            <p>PeekPeekは、ユーザーがアクセスする第三者のソーシャルメディアプラットフォームのコンテンツに対して責任を負いません。第三者プラットフォーム上でのユーザーの行動は、そのプラットフォームの利用規約と規定に従うべきです。</p>
            
            <h2>規約の変更</h2>
            <p>当社はいつでもこの規約を変更する権利を留保します。規約に変更がある場合、アプリ内でお知らせします。</p>
            
            <h2>お問い合わせ</h2>
            <p>この規約について質問がある場合は、アプリ内のユーザーフィードバック機能を通じてお問い合わせください。</p>
        </div>

        <!-- 韩文版本 -->
        <div id="ko" class="lang-content">
            <h1>사용자 협약</h1>
            
            <p>PeekPeek에 오신 것을 환영합니다! 본 협약은 귀하와 PeekPeek 애플리케이션 간의 서비스 이용에 관한 계약입니다.</p>
            
            <h2>서비스 설명</h2>
            <p>PeekPeek은 사용자가 소셜 미디어 계정을 관리하고 빠르게 접근할 수 있도록 도와주는 도구입니다. 소셜 미디어 링크의 추가, 관리 및 접근 서비스를 제공합니다.</p>
            
            <h2>사용자 책임</h2>
            <p>PeekPeek을 사용할 때, 사용자는 관련 법규를 준수해야 하며 이 애플리케이션을 불법 활동에 이용해서는 안 됩니다. 사용자는 사용 과정에서 자신의 행동에 책임을 져야 합니다.</p>
            
            <h2>면책 조항</h2>
            <p>PeekPeek은 사용자가 접근하는 제3자 소셜 미디어 플랫폼의 콘텐츠에 대해 책임을 지지 않습니다. 제3자 플랫폼에서의 사용자 행동은 해당 플랫폼의 사용자 협약 및 규정을 따라야 합니다.</p>
            
            <h2>협약 수정</h2>
            <p>당사는 언제든지 본 협약을 수정할 권리를 보유합니다. 협약이 변경될 경우, 애플리케이션 내에서 알려드립니다.</p>
            
            <h2>연락처</h2>
            <p>본 협약에 대한 질문이 있으시면, 애플리케이션 내 사용자 피드백 기능을 통해 연락해 주십시오.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 添加控制台日志来调试
            console.log("DOM已加载");
            
            // 获取浏览器的首选语言
            function getBrowserLanguage() {
                const navigatorLang = navigator.language || navigator.userLanguage;
                console.log("浏览器语言: ", navigatorLang);
                
                // 简化语言代码匹配逻辑
                if (navigatorLang.startsWith('zh')) return 'zh-CN';
                if (navigatorLang.startsWith('ja')) return 'ja';
                if (navigatorLang.startsWith('ko')) return 'ko';
                return 'en'; // 默认英语
            }

            // Cookie处理函数
            function setCookie(name, value, days) {
                try {
                    const expires = new Date();
                    expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);
                    document.cookie = name + '=' + value + ';expires=' + expires.toUTCString() + ';path=/';
                    console.log("设置cookie成功: ", name, value);
                } catch (e) {
                    console.warn('无法设置cookie:', e);
                }
            }

            function getCookie(name) {
                try {
                    const nameEQ = name + '=';
                    const ca = document.cookie.split(';');
                    for (let i = 0; i < ca.length; i++) {
                        let c = ca[i];
                        while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                        if (c.indexOf(nameEQ) === 0) {
                            const value = c.substring(nameEQ.length, c.length);
                            console.log("获取cookie成功: ", name, value);
                            return value;
                        }
                    }
                } catch (e) {
                    console.warn('无法读取cookie:', e);
                }
                console.log("未找到cookie: ", name);
                return null;
            }

            // 保存语言偏好（尝试localStorage，失败则使用cookie）
            function saveLanguagePreference(lang) {
                console.log("尝试保存语言偏好: ", lang);
                try {
                    localStorage.setItem('preferredLanguage', lang);
                    console.log("使用localStorage保存成功");
                } catch (e) {
                    console.warn('localStorage不可用:', e);
                    try {
                        setCookie('preferredLanguage', lang, 365);
                        console.log("使用cookie保存成功");
                    } catch (e2) {
                        console.warn('cookie也不可用:', e2);
                    }
                }
            }

            // 获取语言偏好（尝试localStorage，失败则使用cookie）
            function getLanguagePreference() {
                console.log("尝试获取语言偏好");
                let lang = null;
                try {
                    lang = localStorage.getItem('preferredLanguage');
                    if (lang) console.log("从localStorage获取成功: ", lang);
                } catch (e) {
                    console.warn('localStorage不可用:', e);
                }
                
                if (!lang) {
                    try {
                        lang = getCookie('preferredLanguage');
                        if (lang) console.log("从cookie获取成功: ", lang);
                    } catch (e2) {
                        console.warn('cookie也不可用:', e2);
                    }
                }
                
                return lang;
            }

            // 显示选定语言的内容
            function displayLanguage(lang) {
                console.log("显示语言: ", lang);
                
                // 首先隐藏所有语言内容
                const allContents = document.querySelectorAll('.lang-content');
                console.log("找到语言内容元素: ", allContents.length);
                
                allContents.forEach(el => {
                    el.style.display = 'none';
                    console.log("隐藏元素: ", el.id);
                });
                
                // 显示选定的语言内容
                const targetElement = document.getElementById(lang);
                if (targetElement) {
                    targetElement.style.display = 'block';
                    console.log("显示元素: ", lang);
                } else {
                    console.error("找不到语言元素: ", lang);
                    // 如果找不到选择的语言，默认显示英语
                    const defaultElement = document.getElementById('en');
                    if (defaultElement) {
                        defaultElement.style.display = 'block';
                        console.log("显示默认语言(英语)");
                    } else {
                        console.error("找不到默认语言元素(英语)");
                    }
                }
                
                // 更新语言选择器的值
                const selectElement = document.getElementById('languageSelect');
                if (selectElement) {
                    selectElement.value = lang;
                    console.log("更新选择器值: ", lang);
                }
                
                // 更新HTML的lang属性
                document.documentElement.lang = lang;
                console.log("更新HTML lang属性: ", lang);
            }

            // 初始化语言 - 使用更健壮的方法
            const storedLang = getLanguagePreference();
            const initialLang = storedLang || getBrowserLanguage();
            console.log("初始语言: ", initialLang);
            
            // 确保初始显示
            displayLanguage(initialLang);

            // 添加语言选择器的事件监听器
            const selectElement = document.getElementById('languageSelect');
            if (selectElement) {
                selectElement.addEventListener('change', function() {
                    const selectedLang = this.value;
                    console.log("语言已更改: ", selectedLang);
                    saveLanguagePreference(selectedLang);
                    displayLanguage(selectedLang);
                });
                console.log("已添加选择器事件监听器");
            } else {
                console.error("找不到语言选择器元素");
            }
        });
    </script>
</body>
</html>
